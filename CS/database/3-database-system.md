# 데이터베이스 시스템(DBS)

#### 데이터베이스에 데이터를 저장하고, 이를 관리해서 조직에 필요한 정보를 생성해주는 시스템
<img width="191" alt="image" src="https://user-images.githubusercontent.com/56334513/170485444-70acd217-fd47-4500-902b-4f39ef1e0ea5.png">

## 데이터베이스의 구조

### 스키마 (schema)

> 데이터베이스에 저장되는 데이터 구조 및 제약조건을 정의한 것
+ e.g. `고객번호(INT)`, `이름(CHAR(10))`, `나이(INT)`, `주소(CHAR(20))` 

### 인스턴스 (instance)
> 스키마에 의하여 데이터베이스에 실제로 저장된 값
  + e.g. 고객번호는 `1000`, 이름은 `나야나`, 나이는 `20`, 주소는 `서울특별시`

<br>

## 3단계로 나눈 데이터베이스 구조

#### 데이터베이스를 쉽게 이해하기 위해 세 단계에 걸쳐 표현한 구조
#### 외부 단계가 가장 추상화 레벨이 높고, 내부 단계가 가장 추상화 레벨이 낮다.
+ **외부 단계(external level)**: 사용자 관점
+ **개념 단계(conceptual level)**: 조직 전체 관점
+ **내부 단계(internal level)**: 물리적인 저장 장치에 대한 관점

e.g. 아파트를 바라보는 관점
+ 집주인 관점(외부 단계): 101호에 살고 있는 사람
+ 관리인 관점(개념 단계): 모든 호수에 대한 개념을 가지고 있음
+ 건설업체 관점(내부 단계): 물리적으로 어떻게 아파트를 설계해야 하는지


    외부 스키마의 고객 번호(INT)는 개념 스키마의 번호(INT)와 매핑되며,
    이는 내부 스키마의 번호(필드 이름, 필드 크기, OFFSET, 인덱스 존재 여부)와 매핑된다.


### 외부 단계

+ 데이터베이스 하나에 여러 개의 `외부 스키마` 존재 가능
    + 외부 단계에서 데이터베이스를 정의한 것
    + 사용자마다 데이터베이스의 모습이 다 다름.
      + e.g. 고객의 외부 스키마는 성별,나이,직업을 가지고 있지만 영업팀의 외부 스키마는 고객번호, 담당자번호, 담당자 이름을 가지고 있음
    + 개념 스키마의 일부만을 사용하기 때문에 서브 스키마라고도 함

### 개념 단계

+ 데이터베이스 하나에 한 개의 `개념 스키마`만 존재
  + 개념 단계에서 데이터베이스 전체의 논리적 구조를 정의한 것
  + 어떤 데이터가 저장되고, 어떤 제약 조건이 존재하는지에 대해 정의할 뿐만 아니라 보안, 접근 권한에 대해서도 정의함

### 내부 단계

+ 데이터베이스 하나에 한 개의 `내부 스키마`만 존재
  + 저장 장치에 실제로 저장되는 방법을 정의한 것
  + 레코드 구조나 필드의 크기 등 물리적 저장 구조를 정의

### 사상 또는 매핑

<img width="424" alt="image" src="https://user-images.githubusercontent.com/56334513/170488591-7e23cc63-8a3c-4c11-870a-727c69de1779.png">

+ 위의 그림처럼 스키마 사이에 대응 관계가 포함됨을 알 수 있다.
+ 데이터베이스를 3단계 구조로 나누며 각 특성에 맞는 스키마가 존재하는 데다 스키마 간의 대응 관계를 정의하는 이유는 무엇일까?
  + <font color="tomato">**데이터 독립성**</font>의 실현

### 3단계 데이터베이스 구조에서 말하는 `데이터의 독립성`

+ 하위 스키마가 변경되어도 상위 스키마는 전혀 영향을 받지 않음
+ 논리적 데이터 독립성
  + 개념 스키마가 변경된다? 외부/개념 사상만 수정
  + 물리적 데이터 독립성도 마찬가지. 내부 스키마가 변경되면 개념/내부 사상만 수정

<br>

## 용어 정리
### 데이터 사전

> `시스템 카탈로그`라고도 하며, 메타 데이터를 유지하는 시스템
+ 메타 데이터란 데이터에 대한 데이터를 의미하는데, 데이터에 관한 정보라고 할 수 있음

스키마와 사상 정보가 저장된다. DBMS에 의해 스스로 생성하고 유지되는데 사용자는 읽기에 의한 접근만 가능하다.

### 데이터 디렉토리

> 데이터 사전에 있는 데이터에 실제로 접근하는 데 필요한 위치에 대한 정보를 저장한 시스템
+ DBMS가 이용

### 사용자 데이터베이스

> 사용자가 실제로 이용하는 데이터가 저장된 데이터베이스

<br>

## 데이터베이스 사용자

+ **데이터베이스 관리자(DBA)** - 데이터베이스 시스템을 운영하고 관리
  + DDL, DCL 사용
+ **최종 사용자(end user)** - 데이터베이스에 접근하여 데이터를 조작
  + DML 사용
+ **응용 프로그래머** - 데이터 언어를 삽입해 응용 프로그램 작성

<br>

## 데이터 언어

> 사용자와 DBMS 간의 통신 수단

### 데이터 정의어(DDL, Data Definition Language)

#### 스키마를 정의하거나, 수정 또는 삭제하기 위해 사용

### 데이터 조작어(DML, Data Manipulation Language)

#### 데이터의 삽입, 삭제, 수정, 검색
+ 절차적 데이터 조작어와 비절차적 데이터 조작어(=선언적 언어)로 구분되는데, 절차적 데이터 조작어는 `사용자가 원하는 데이터를 얻기 위해 어떻게 처리해야 하는지`를 설명하고, 비절차적 데이터 조작어는 `사용자가 어떤 데이터를 원하는지`만 설명한다.
+ 관계대수를 구하는 것이 절차적 데이터 조작어. 데이터베이스에서 사용하는 보편적인 언어는 비절차적 데이터 조작어.

### 데이터 제어어

#### 내부적으로 필요한 규칙이나 기법을 정의하기 위해 사용

사용 목적은 다음과 같다.
+ **무결성**
+ **보안**(허가 받지 않은 사용자는 데이터 접근 차단)
+ **회복**(장애 발생해도 데이터 일관성 유지)
+ **동시성 제어**



<br>
<br>

---
참고: 데이터베이스의 원리와 응용 - kocw 한양대학교 백현미 http://www.kocw.net/home/cview.do?cid=9c591659f017851e#.Yo3Yiac_M9w.link