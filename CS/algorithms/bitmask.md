# 비트 마스크 (bitmask)

> 목적: 비트 연산을 이용해서 부분 집합을 표현한다.

## 비트 연산

|  A   |  B   |  ~A  |  A&B  |  AㅣB  |  A^B  |
|:----:|:----:|:----:|:-----:|:-----:|:-----:|
|  0   |  0   |  1   |   0   |   0   |   0   |
|  0   |  1   |  1   |   0   |   1   |   1   |
|  1   |  0   |  0   |   0   |   1   |   1   |
|  1   |  1   |  0   |   1   |   1   |   0   |

#### A와 B를 비트 연산하면 가장 뒤부터 하나씩 연산을 수행한다.
+ A = 27 (11011), B = 83(1010011)
  + `0011011`과 `1010011`을 비트 연산

#### not 연산을 수행할 때 만약 8비트 자료형(int)인 경우, 결과값이 바뀔 수 있다.
+ 110110 -> 00110110 -> `11001001` (not 연산한 결과)


### shift left (<<)
+ A << B (A를 왼쪽으로 B비트 만큼 민다. 0을 채운다.)
+ e.g.
  + `1 << 0 = 1`
  + `1 << 1 = 2` (10)
  + `1 << 2 = 4` (100)
  + `3 << 3 = 24` (11 -> 11000)

### shift right (>>)
+ A >> B (A를 오른쪽으로 B비트 만큼 민다.)
+ e.g.
  + `1 >> 0 = 1`
  + `1 >> 1 = 0`
  + `10 >> 3 = 1` (1010 -> 1)


### 수식

+ `A << B` == `A x 2^B`
+ `A >> B` == `A / 2^B`
+ `(A+B)/2` == `(A+B) >> 1`

<br>

## 비트 마스크

+ 정수로 집합을 나타낸다.
+ e.g. {1,3,4,5,9}
  + 2^1 + 2^3 + 2^4 + 2^5 + 2^9 = 570
  + 570의 이진수 = 1000111010

### 특징

+ 평상적으로 `0~N-1`까지 정수로 이루어진 집합을 표현한다.
  + `1-N`까지 집합을 사용하려면 공간이 2배 더 필요하고, 특히 공집합 또한 존재하므로 조금 변형해야 할 것이다.
+ **검사, 추가, 삭제**의 시간복잡도가 O(1)이다.
+ 중복을 피할 수 있다.
+ 비트마스크로 집합을 배열의 인덱스로 표현할 수 있기 때문에, 상태 다이나믹을 할 때 자주 사용

### 비트마스크를 이용한 다양한 연산

+ **전체 집합**: `(1 << N) - 1` (0~N-1)
+ **공집합**: 0
+ **추가**: `S | (1 << i)`
+ 검사: `S & (1 << i)`
+ 제거: `S & ~(1 << i)`
+ 토글: `S ^ (1 << i)`